{"version":3,"file":"initializer.js","sourceRoot":"","sources":["../src/initializer.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,6BAA6B;AAC7B,mDAAgD;AAChD,oEAAiE;AACjE,yCAAsC;AAEtC;IAEI,gBAAwB,CAAC;IAGlB,MAAM,KAAK,OAAO;QACrB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YAClB,IAAI,CAAC,SAAS,GAAG,IAAI,WAAW,EAAE,CAAC;QACvC,CAAC;QACD,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IAGD,IAAW,KAAK;QACZ,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IAGD,IAAW,UAAU;QACjB,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;IAC3B,CAAC;IAGD,IAAW,cAAc;QACrB,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC;IAC7B,CAAC;IAEY,IAAI;;YACb,IAAI,CAAC,UAAU,GAAG,IAAI,uBAAU,CAC5B,OAAO,CAAC,GAAG,EAAE,EACb,GAAG,OAAO,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,eAAe,IAAI,CAAC,GAAG,cAAc,EAChE,GAAG,OAAO,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,eAAe,IAAI,CAAC,GAAG,eAAe,CAAC,CAAC;YACvE,IAAI,CAAC,KAAK,GAAG,IAAI,aAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YACxC,MAAM,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;YAChC,IAAI,CAAC,YAAY,GAAG,IAAI,+BAAc,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC;YACxE,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE,CAAC;QACvC,CAAC;KAAA;CACJ;AArCD,kCAqCC","sourcesContent":["import * as Path from 'path';\r\nimport { PathHelper } from \"./utils/pathhelper\";\r\nimport { SnConfigReader } from \"./utils/snconfig/snconfigreader\";\r\nimport { Stage } from \"./utils/stage\";\r\n\r\nexport class Initializer {\r\n\r\n    private constructor() { }\r\n\r\n    private static _instance: Initializer;\r\n    public static get Current(): Initializer {\r\n        if (!this._instance) {\r\n            this._instance = new Initializer();\r\n        }\r\n        return this._instance;\r\n    }\r\n\r\n    private stage: Stage;\r\n    public get Stage(): Stage {\r\n        return this.stage;\r\n    }\r\n\r\n    private pathHelper: PathHelper;\r\n    public get PathHelper(): PathHelper {\r\n        return this.pathHelper;\r\n    }\r\n\r\n    private configReader: SnConfigReader;\r\n    public get SnConfigReader(): SnConfigReader {\r\n        return this.configReader;\r\n    }\r\n\r\n    public async Init() {\r\n        this.pathHelper = new PathHelper(\r\n            process.cwd(),\r\n            `${process.cwd()}${Path.sep}node_modules${Path.sep}sn-client-js`,\r\n            `${process.cwd()}${Path.sep}node_modules${Path.sep}sn-client-cli`);\r\n        this.stage = new Stage(this.pathHelper);\r\n        await this.stage.PrepareAsync();\r\n        this.configReader = new SnConfigReader(this.pathHelper.PackageRootPath);\r\n        this.configReader.ReadConfigFile();\r\n    }\r\n}\r\n"]}